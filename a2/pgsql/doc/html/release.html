<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Release Notes</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 7.4.13 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="Appendixes"
HREF="appendixes.html"><LINK
REL="PREVIOUS"
TITLE="Unsupported Features"
HREF="unsupported-features-sql99.html"><LINK
REL="NEXT"
TITLE="Release 7.4.12"
HREF="release-7-4-12.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
NAME="creation"
CONTENT="2006-05-22T03:51:55"></HEAD
><BODY
CLASS="APPENDIX"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 7.4.13 Documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="unsupported-features-sql99.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="features.html"
>Fast Backward</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="cvs.html"
>Fast Forward</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="release-7-4-12.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="APPENDIX"
><H1
><A
NAME="RELEASE"
></A
>Appendix E. Release Notes</H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>E.1. <A
HREF="release.html#RELEASE-7-4-13"
>Release 7.4.13</A
></DT
><DT
>E.2. <A
HREF="release-7-4-12.html"
>Release 7.4.12</A
></DT
><DT
>E.3. <A
HREF="release-7-4-11.html"
>Release 7.4.11</A
></DT
><DT
>E.4. <A
HREF="release-7-4-10.html"
>Release 7.4.10</A
></DT
><DT
>E.5. <A
HREF="release-7-4-9.html"
>Release 7.4.9</A
></DT
><DT
>E.6. <A
HREF="release-7-4-8.html"
>Release 7.4.8</A
></DT
><DT
>E.7. <A
HREF="release-7-4-7.html"
>Release 7.4.7</A
></DT
><DT
>E.8. <A
HREF="release-7-4-6.html"
>Release 7.4.6</A
></DT
><DT
>E.9. <A
HREF="release-7-4-5.html"
>Release 7.4.5</A
></DT
><DT
>E.10. <A
HREF="release-7-4-4.html"
>Release 7.4.4</A
></DT
><DT
>E.11. <A
HREF="release-7-4-3.html"
>Release 7.4.3</A
></DT
><DT
>E.12. <A
HREF="release-7-4-2.html"
>Release 7.4.2</A
></DT
><DT
>E.13. <A
HREF="release-7-4-1.html"
>Release 7.4.1</A
></DT
><DT
>E.14. <A
HREF="release-7-4.html"
>Release 7.4</A
></DT
><DT
>E.15. <A
HREF="release-7-3-15.html"
>Release 7.3.15</A
></DT
><DT
>E.16. <A
HREF="release-7-3-14.html"
>Release 7.3.14</A
></DT
><DT
>E.17. <A
HREF="release-7-3-13.html"
>Release 7.3.13</A
></DT
><DT
>E.18. <A
HREF="release-7-3-12.html"
>Release 7.3.12</A
></DT
><DT
>E.19. <A
HREF="release-7-3-11.html"
>Release 7.3.11</A
></DT
><DT
>E.20. <A
HREF="release-7-3-10.html"
>Release 7.3.10</A
></DT
><DT
>E.21. <A
HREF="release-7-3-9.html"
>Release 7.3.9</A
></DT
><DT
>E.22. <A
HREF="release-7-3-8.html"
>Release 7.3.8</A
></DT
><DT
>E.23. <A
HREF="release-7-3-7.html"
>Release 7.3.7</A
></DT
><DT
>E.24. <A
HREF="release-7-3-6.html"
>Release 7.3.6</A
></DT
><DT
>E.25. <A
HREF="release-7-3-5.html"
>Release 7.3.5</A
></DT
><DT
>E.26. <A
HREF="release-7-3-4.html"
>Release 7.3.4</A
></DT
><DT
>E.27. <A
HREF="release-7-3-3.html"
>Release 7.3.3</A
></DT
><DT
>E.28. <A
HREF="release-7-3-2.html"
>Release 7.3.2</A
></DT
><DT
>E.29. <A
HREF="release-7-3-1.html"
>Release 7.3.1</A
></DT
><DT
>E.30. <A
HREF="release-7-3.html"
>Release 7.3</A
></DT
><DT
>E.31. <A
HREF="release-7-2-8.html"
>Release 7.2.8</A
></DT
><DT
>E.32. <A
HREF="release-7-2-7.html"
>Release 7.2.7</A
></DT
><DT
>E.33. <A
HREF="release-7-2-6.html"
>Release 7.2.6</A
></DT
><DT
>E.34. <A
HREF="release-7-2-5.html"
>Release 7.2.5</A
></DT
><DT
>E.35. <A
HREF="release-7-2-4.html"
>Release 7.2.4</A
></DT
><DT
>E.36. <A
HREF="release-7-2-3.html"
>Release 7.2.3</A
></DT
><DT
>E.37. <A
HREF="release-7-2-2.html"
>Release 7.2.2</A
></DT
><DT
>E.38. <A
HREF="release-7-2-1.html"
>Release 7.2.1</A
></DT
><DT
>E.39. <A
HREF="release-7-2.html"
>Release 7.2</A
></DT
><DT
>E.40. <A
HREF="release-7-1-3.html"
>Release 7.1.3</A
></DT
><DT
>E.41. <A
HREF="release-7-1-2.html"
>Release 7.1.2</A
></DT
><DT
>E.42. <A
HREF="release-7-1-1.html"
>Release 7.1.1</A
></DT
><DT
>E.43. <A
HREF="release-7-1.html"
>Release 7.1</A
></DT
><DT
>E.44. <A
HREF="release-7-0-3.html"
>Release 7.0.3</A
></DT
><DT
>E.45. <A
HREF="release-7-0-2.html"
>Release 7.0.2</A
></DT
><DT
>E.46. <A
HREF="release-7-0-1.html"
>Release 7.0.1</A
></DT
><DT
>E.47. <A
HREF="release-7-0.html"
>Release 7.0</A
></DT
><DT
>E.48. <A
HREF="release-6-5-3.html"
>Release 6.5.3</A
></DT
><DT
>E.49. <A
HREF="release-6-5-2.html"
>Release 6.5.2</A
></DT
><DT
>E.50. <A
HREF="release-6-5-1.html"
>Release 6.5.1</A
></DT
><DT
>E.51. <A
HREF="release-6-5.html"
>Release 6.5</A
></DT
><DT
>E.52. <A
HREF="release-6-4-2.html"
>Release 6.4.2</A
></DT
><DT
>E.53. <A
HREF="release-6-4-1.html"
>Release 6.4.1</A
></DT
><DT
>E.54. <A
HREF="release-6-4.html"
>Release 6.4</A
></DT
><DT
>E.55. <A
HREF="release-6-3-2.html"
>Release 6.3.2</A
></DT
><DT
>E.56. <A
HREF="release-6-3-1.html"
>Release 6.3.1</A
></DT
><DT
>E.57. <A
HREF="release-6-3.html"
>Release 6.3</A
></DT
><DT
>E.58. <A
HREF="release-6-2-1.html"
>Release 6.2.1</A
></DT
><DT
>E.59. <A
HREF="release-6-2.html"
>Release 6.2</A
></DT
><DT
>E.60. <A
HREF="release-6-1-1.html"
>Release 6.1.1</A
></DT
><DT
>E.61. <A
HREF="release-6-1.html"
>Release 6.1</A
></DT
><DT
>E.62. <A
HREF="release-6-0.html"
>Release 6.0</A
></DT
><DT
>E.63. <A
HREF="release-1-09.html"
>Release 1.09</A
></DT
><DT
>E.64. <A
HREF="release-1-02.html"
>Release 1.02</A
></DT
><DT
>E.65. <A
HREF="release-1-01.html"
>Release 1.01</A
></DT
><DT
>E.66. <A
HREF="release-1-0.html"
>Release 1.0</A
></DT
><DT
>E.67. <A
HREF="release-0-03.html"
><SPAN
CLASS="PRODUCTNAME"
>Postgres95</SPAN
> Release 0.03</A
></DT
><DT
>E.68. <A
HREF="release-0-02.html"
><SPAN
CLASS="PRODUCTNAME"
>Postgres95</SPAN
> Release 0.02</A
></DT
><DT
>E.69. <A
HREF="release-0-01.html"
><SPAN
CLASS="PRODUCTNAME"
>Postgres95</SPAN
> Release 0.01</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RELEASE-7-4-13"
>E.1. Release 7.4.13</A
></H1
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Release date: </B
>2006-05-23</P
></BLOCKQUOTE
></DIV
><P
>    This release contains a variety of fixes from 7.4.12,
    including patches for extremely serious security issues.
   </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN61691"
>E.1.1. Migration to version 7.4.13</A
></H2
><P
>     A dump/restore is not required for those running 7.4.X.  However,
     if you are upgrading from a version earlier than 7.4.11, see the release
     notes for 7.4.11.
    </P
><P
>     Full security against the SQL-injection attacks described in
     CVE-2006-2313 and CVE-2006-2314 may require changes in application
     code.  If you have applications that embed untrustworthy strings
     into SQL commands, you should examine them as soon as possible to
     ensure that they are using recommended escaping techniques.  In
     most cases, applications should be using subroutines provided by
     libraries or drivers (such as <SPAN
CLASS="APPLICATION"
>libpq</SPAN
>'s
     <CODE
CLASS="FUNCTION"
>PQescapeStringConn()</CODE
>) to perform string escaping,
     rather than relying on <I
CLASS="FOREIGNPHRASE"
>ad hoc</I
> code to do it.
    </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN61698"
>E.1.2. Changes</A
></H2
><P
></P
><UL
><LI
><P
>Change the server to reject invalidly-encoded multibyte
characters in all cases (Tatsuo, Tom)</P
><P
>While <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> has been moving in this direction for
some time, the checks are now applied uniformly to all encodings and all
textual input, and are now always errors not merely warnings.  This change
defends against SQL-injection attacks of the type described in CVE-2006-2313.</P
></LI
><LI
><P
>Reject unsafe uses of <TT
CLASS="LITERAL"
>\'</TT
> in string literals</P
><P
>As a server-side defense against SQL-injection attacks of the type
described in CVE-2006-2314, the server now only accepts <TT
CLASS="LITERAL"
>''</TT
> and not
<TT
CLASS="LITERAL"
>\'</TT
> as a representation of ASCII single quote in SQL string
literals.  By default, <TT
CLASS="LITERAL"
>\'</TT
> is rejected only when
<TT
CLASS="VARNAME"
>client_encoding</TT
> is set to a client-only encoding (SJIS, BIG5, GBK,
GB18030, or UHC), which is the scenario in which SQL injection is possible.
A new configuration parameter <TT
CLASS="VARNAME"
>backslash_quote</TT
> is available to
adjust this behavior when needed.  Note that full security against
CVE-2006-2314 may require client-side changes; the purpose of
<TT
CLASS="VARNAME"
>backslash_quote</TT
> is in part to make it obvious that insecure
clients are insecure.</P
></LI
><LI
><P
>Modify <SPAN
CLASS="APPLICATION"
>libpq</SPAN
>'s string-escaping routines to be
aware of encoding considerations and
<TT
CLASS="VARNAME"
>standard_conforming_strings</TT
></P
><P
>This fixes <SPAN
CLASS="APPLICATION"
>libpq</SPAN
>-using applications for the security
issues described in CVE-2006-2313 and CVE-2006-2314, and also future-proofs
them against the planned changeover to SQL-standard string literal syntax.
Applications that use multiple <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> connections
concurrently should migrate to <CODE
CLASS="FUNCTION"
>PQescapeStringConn()</CODE
> and
<CODE
CLASS="FUNCTION"
>PQescapeByteaConn()</CODE
> to ensure that escaping is done correctly
for the settings in use in each database connection.  Applications that
do string escaping <SPAN
CLASS="QUOTE"
>"by hand"</SPAN
> should be modified to rely on library
routines instead.</P
></LI
><LI
><P
>Fix some incorrect encoding conversion functions</P
><P
><CODE
CLASS="FUNCTION"
>win1251_to_iso</CODE
>, <CODE
CLASS="FUNCTION"
>alt_to_iso</CODE
>,
<CODE
CLASS="FUNCTION"
>euc_tw_to_big5</CODE
>, <CODE
CLASS="FUNCTION"
>euc_tw_to_mic</CODE
>,
<CODE
CLASS="FUNCTION"
>mic_to_euc_tw</CODE
> were all broken to varying
extents.</P
></LI
><LI
><P
>Clean up stray remaining uses of <TT
CLASS="LITERAL"
>\'</TT
> in strings
(Bruce, Jan)</P
></LI
><LI
><P
>Fix bug that sometimes caused OR'd index scans to
miss rows they should have returned</P
></LI
><LI
><P
>Fix WAL replay for case where a btree index has been
truncated</P
></LI
><LI
><P
>Fix <TT
CLASS="LITERAL"
>SIMILAR TO</TT
> for patterns involving
<TT
CLASS="LITERAL"
>|</TT
> (Tom)</P
></LI
><LI
><P
>Fix server to use custom DH SSL parameters correctly (Michael
Fuhr)</P
></LI
><LI
><P
>Fix for Bonjour on Intel Macs (Ashley Clark)</P
></LI
><LI
><P
>Fix various minor memory leaks</P
></LI
></UL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="unsupported-features-sql99.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="release-7-4-12.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Unsupported Features</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="appendixes.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Release 7.4.12</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>